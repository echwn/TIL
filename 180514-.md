# 5/14(월)

## Today I learned

### ADT 추상 자료형 Abstract Data Type
개념적으로만 약속한 것
#### 큐, 스택, 트리
##### Queue
- FIFO 먼저 집어넣은 데이터가 먼저 나온다. First In First Out 선입선출
- enqueue(push), dequeue(shift)
- 순서대로 처리해야 하는 작업을 임시로 저장해두는 buffer로 많이 사용
##### Stack
- queue와 반대, LIFO 후입선출 Last In First Out
- push, pop, peek
- 이전의 작업 내용을 저장해 둘 필요가 있을 때, cmd+z
### 비동기 프로그래밍 Asyncronous Programming
- 기술이나 양식을 의미, ES2017?부터 추가
- 어떤 작업이 동기화되는 것을 기다리지 않고 콜백을 브라우저에다 맡기고 다음 코드를 실행
- 반대로 어떤 작업이 싱크될 때까지 코드의 실행을 멈추고 기다리는 프로그래밍 방식은 synchronous programming
- c#에서 처음으로 비동기프로그래밍을 쓸 수 있게 문법으로 만들졌고 다른 언어들에서 이를 차용해서 이런 기능들이 만들어지고 있음.
- 예전 문법으로 비동기식을 쓰려면 어려웠는데 최근에 활용할 수 있는 문법들이 추가되면서 많이 쓰이게 됨.
- 브라우저에서의 비동기 프로그래밍은 주로 통신, 계산과 같이 오래 걸리는 작업들을 다룰 때 쓴다.
#### call back - 기본 문법
call back을 쓴다고해서 다 비동기식으로 동작하는 것은 아님. `map`이나 `forEach`의 인수도 콜백으로 넘겨주지만 이 때는 동기식으로 호출돼서 코드의 실행 흐름이 순차적으로 진행
#### promise 패턴 - 과도기 문법
- callback hell을 피하기 위해서 promise 패턴을 사용한 라이브러리들이 등장. 나중에 표준화됨.
- '언젠가 끝나는 작업'의 결과값을 담는 통과 같은 객체
- 처음 Promise 객체 안에는 아무 것도 없음. resolve, reject 함수를 인수로 넘겨줬을 때, 콜백 안에서 resolve를 호출하면 resolve에 인수로 준 값이 곧 Promise 객체의 결과값이 됨.
- `then` 메소드: Promise 객체의 결과값을 사용해서 추가 작업을 하기 위해 호출하는 메소드. 이 메소드에 콜백을 넘겨서 인수로 들어온 결과값을 가지고 추가 작업을 한다.
  - **Promise 객체를 콜백 반환 값**으로 갖기 때문에 앞의 값을 받아와서 연이어 쓸 수 있다.
  - then 콜백에서 Promise 객체를 반환할 때, 객체 안의 객체가 아니라 바로 앞의 객체 값을 따른다.
  - 콜백을 중첩하지 않고도 비동기 작업을 연이어 할 수 있다.
- 비동기 작업 자체를 promise 객체로 반환 할 수 있기 때문에 값으로 다룰 수 있게 된다.
	- `Promise.all` 메소드: 브라우저 내장 메소드. 배열 안에 있는 비동기 작업을 각 각 실행한 후, 앞의 비동기 작업들이 모두 끝나는 시점에 대한 promise를 반환해 주기 때문에 따로 작업을 해줄 필요가 없다.
#### 비동기 함수 Async Funtion - 최신 문법
promise패턴이 여전히 콜백을 사용한다는 점. 이를 개선하기 위해 ES2017에 도입된 문법.
동기식 코드와 거의 같은 구조를 갖는 비동기식 코드를 짤 수 있다.
- 함수 앞에 `async`를 붙여서 사용.
- 항상 promise 객체를 반환한다. 리턴값이 들어 있는 객체를 반환.
- then 메소드와 똑같은 방식으로 동작
- `await` 뒤에 나오는 promise의 연산이 끝났을 때 반환 then메소드와 같이 동작한다. 비동기식으로 기다리는 것이기 때문에 브라우저는 promise가 완료될 때까지 다른 작업을 처리할 수 있다.
- **for나 if 같은 제어문 안에서도 같이 쓰일 수 있다.**
### Motivation - 타이머 API
`setTimeout`**함수를 특정 시간이 지난 뒤에 실행** - 0초를 지정하더라도 콜백이 작업큐에 등록됐다가 실행되기 때문에 무조건 뒤에 실행된다.
`setInterval`**함수를 주기적으로 실행**
둘 다 타이머 식별자를 반환. 식별자를 넣어서 실행 중인 타이머를 취소할 수 있다.
`clearTimeout(timeoutID);`
`clearInterval(intervalID);`
아래와 같은 이유(호출 스택에 실행 중인 함수가 존재하는 동안에는 브라우저가 멈춤) 때문에 지연시간이 정확하지는 않다.
#### 브라우저의 JavaScript 코드 실행 과정
##### call stack
call stack에 저장되는 각 항목을 EC실행 맥락execution context(다른 언어에서는 stack frame)이라고 하고 여기에
- 함수 내부에서 사용되는 변수
- 스코프 체인
- this가 가리키는 객체
와 같은 함수 호출과 관련된 정보가 저장 된다.
16ms 안에 코드를 실행하도록 만들어 주는 것이 좋다.
##### task queue
큰 계산이나 통신 때문에 기다려야하는 경우도 있다. 이 때에는 브라우저에게 기다리는 일을 처리하도록 한다.
- 브라우저에게 일을 시키고 일이 끝나면 call back(함수에다가 넘기는 함수)을 task queue에 추가

- call stack이 한가해 질 때 까지 task queue에 넣어서 기다리게 한다.

- 브라우저는 호출 스택이 비워질 때마다 콜백(기다린 뒤에 무엇을 할지)을 실행. 대개의 자바스크립트 엔진은 콜 스택이 하나라서 자바스크립트 실행 함수를 한번에 하나만 실행한다(단일 스레드)

---
- 크롬 확장 postman: 통신을 해보고 그 결과를 확인하는 프로그램
- google vision api
- 크롬이 v8 자바스크립트 엔진을 탑재하면서 브라우저 성능이 획기적으로 좋아져서 보다 복잡한 웹을 만들 수 있게 됨. JIT compilation(자바스크립트를 기계어로 바꾼 다음에 실행시킴)

---
### node.js
자바스크립트를 통해 통신 서버를 만들기 위한 실행 환경 프로그램 JavaScript runtime 브라우저 환경과 다르다(window라는 전역객체 없음,  global, require 등의 전역 객체가 있다)
- module.exports을 모듈로 쓸 파일 안에 따로 선언해준 뒤 require을 써서 다른 파일에 있는 모듈을 불러와 쓸 수 있다.
#### NPM
**node.js 패키지 관리 도구**이기도 하면서 클라우드 패키지 저장소
- `npm install` 필요한 디렉토리가 지워졌더라도 패키지json파일에 써 있는대로(의존성) 필요한 파일을 재구성해줌(패키지 관리).
- 패키지 관리 순서
1. `npm init -y` 이 디렉토리는 npm을 통해 관리하는 패키지라고 설명하는 json파일을 만들어 줌.
2. .gitignore 파일 안에 무시할 패키지 파일을 지정해 주면 내가 작성한 파일만 깃헙에 올릴 수 있다. 이 디렉토리를 다른 사람이 클론 한 후 `npm install` 로 재구성하면 되는 것

### HTTP
- REST API의 부상과 함께 모바일앱과 서버 간 통신, 서버와 서번 간 통신에도 사용됨
- 서버에 요청하기 전에는 절대 응답하지 않음. 반드시 요청을 보내야 정보를 얻을 수 있다.